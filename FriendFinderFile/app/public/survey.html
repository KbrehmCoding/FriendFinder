<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="general.css">
    <title>Friend Finder Survey</title>
</head>

<body>
    <div class="container">
        <div class="row">
            <div class="col">
                <div id="surveyContainer">
                    <h2>
                        Survey Questions
                    </h2>
                    <hr>
                    <div>
                        <h4><strong>About You</strong></h4>
                        <h5>Name (required)</h5>
                        <input type="text" id="name" class="control-form">
                        <h5>Link to Photo Image(required)</h5>
                        <input type="text" id="imageLink" class="control-form">
                    </div>
                    <hr>
                    <div>
                        <h4> <strong>Question 1</strong></h4>
                        <h5>I like dogs</h5>
                        <div class="d-flex">
                            <div class="dropdown mr-1">
                                <button type="button" class="btn btn-light dropdown-toggle" id="dropdownMenu" data-toggle="dropdown"
                                    aria-haspopup="true" aria-expanded="false" data="10,20">
                                    Select an Option
                                </button>
                                <div class="answerGiven" id="question1" aria-labelledby="dropdownMenu">
                                    <a class="dropdown-item" value="1" href="#">1 (strongly disagree)</a>
                                    <a class="dropdown-item" value="2" href="#">2</a>
                                    <a class="dropdown-item" vlaue="3" href="#">3</a>
                                    <a class="dropdown-item" value="4" href="#">4</a>
                                    <a class="dropdown-item" value="5" href="#">5 (strongly agree)</a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div>
                        <h4><strong>Question 2</strong></h4>
                        <h5>I like cats</h5>
                        <div class="d-flex">
                            <div class="dropdown mr-1">
                                <button type="button" class="btn btn-light dropdown-toggle" id="dropdownMenu"
                                    data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" data="10,20">
                                    Selet an Option
                                </button>
                                <div class="answerGiven" id="question2" aria-labelledby="dropdownMenu">
                                    <a class="dropdown-item" value="1" href="#">1 (strongly disagree)</a>
                                    <a class="dropdown-item" value="2" href="#">2</a>
                                    <a class="dropdown-item" vlaue="3" href="#">3</a>
                                    <a class="dropdown-item" value="4" href="#">4</a>
                                    <a class="dropdown-item" value="5" href="#">5 (strongly agree)</a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div>
                        <h4><strong>Question 3</strong></h4>
                        <h5>I am an outgoing person</h5>
                        <div class="d-flex">
                            <div class="dropdown mr-1">
                                <button type="button" class="btn btn-light dropdown-toggle" id="dropdownMenu"
                                    data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" data="10,20">
                                    Select an Option
                                </button>
                                <div class="answerGiven" id="question3" aria-labelledby="dropdownMenu">
                                    <a class="dropdown-item" value="1" href="#">1 (strongly disagree)</a>
                                    <a class="dropdown-item" value="2" href="#">2</a>
                                    <a class="dropdown-item" vlaue="3" href="#">3</a>
                                    <a class="dropdown-item" value="4" href="#">4</a>
                                    <a class="dropdown-item" value="5" href="#">5 (strongly agree)</a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div>
                        <h4><strong>Question 4</strong></h4>
                        <h5>I would rather stay in and watch a mvie then go partying</h5>
                        <div class="d-flex">
                            <div class="dropdown mr-1">
                                <button type="button" class="btn btn-light dropdown-toggle" id="dropdownMenu"
                                    data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" data="10,20">
                                    Select an Option
                                </button>
                                <div class="answerGiven" id="question4" aria-labelledby="dropdownMenu">
                                    <a class="dropdown-item" value="1" href="#">1 (strongly disagree)</a>
                                    <a class="dropdown-item" value="2" href="#">2</a>
                                    <a class="dropdown-item" vlaue="3" href="#">3</a>
                                    <a class="dropdown-item" value="4" href="#">4</a>
                                    <a class="dropdown-item" value="5" href="#">5 (strongly agree)</a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div>
                        <h4><strong>Question 5</strong></h4>
                        <h5>I always say what I feel</h5>
                        <div class="d-flex">
                            <div class="dropdown mr-1">
                                <button type="button" class="btn btn-light dropdown-toggle" id="dropdownMenu"
                                    data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" data="10,20">
                                    Select an Option
                                </button>
                                <div class="answerGiven" id="question5" aria-labelledby="dropdownMenu">
                                    <a class="dropdown-item" value="1" href="#">1 (strongly disagree)</a>
                                    <a class="dropdown-item" value="2" href="#">2</a>
                                    <a class="dropdown-item" vlaue="3" href="#">3</a>
                                    <a class="dropdown-item" value="4" href="#">4</a>
                                    <a class="dropdown-item" value="5" href="#">5 (strongly agree)</a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div>
                        <h4><strong>Question 6</strong></h4>
                        <h5>I make friends easily</h5>
                        <div class="d-flex">
                            <div class="dropdown mr-1">
                                <button type="button" class="btn btn-light dropdown-toggle" id="dropdownMenu"
                                    data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"
                                    data="10,20">
                                    Select an Option
                                </button>
                                <div class="answerGiven" id="question6" aria-labelledby="dropdownMenu">
                                    <a class="dropdown-item" value="1" href="#">1 (strongly disagree)</a>
                                    <a class="dropdown-item" value="2" href="#">2</a>
                                    <a class="dropdown-item" vlaue="3" href="#">3</a>
                                    <a class="dropdown-item" value="4" href="#">4</a>
                                    <a class="dropdown-item" value="5" href="#">5 (strongly agree)</a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div>
                        <h4><strong>Quesiton 7</strong></h4>
                        <h5>I always look for the silver lining</h5>
                        <div class="d-flex">
                            <div class="dropdown mr-1">
                                <button type="button" class="btn btn-light dropdown-toggle" id="dropdownMenu"
                                    data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"
                                    data="10,20">
                                    Select an Option
                                </button>
                                <div class="answerGiven" id="question7" aria-labelledby="dropdownMenu">
                                    <a class="dropdown-item" value="1" href="#">1 (strongly disagree)</a>
                                    <a class="dropdown-item" value="2" href="#">2</a>
                                    <a class="dropdown-item" vlaue="3" href="#">3</a>
                                    <a class="dropdown-item" value="4" href="#">4</a>
                                    <a class="dropdown-item" value="5" href="#">5 (strongly agree)</a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div>
                        <h4><Strong>Question 8</Strong></h4>
                        <h5>I try to avoid unnecessary conflict</h5>
                        <div class="d-flex">
                            <div class="dropdown mr-1">
                                <button type="button" class="btn btn-light dropdown-toggle" id="dropdownMenu"
                                    data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"
                                    data="10,20">
                                    Select an Option
                                </button>
                                <div class="answerGiven" id="question8" aria-labelledby="dropdownMenu">
                                    <a class="dropdown-item" value="1" href="#">1 (strongly disagree)</a>
                                    <a class="dropdown-item" value="2" href="#">2</a>
                                    <a class="dropdown-item" vlaue="3" href="#">3</a>
                                    <a class="dropdown-item" value="4" href="#">4</a>
                                    <a class="dropdown-item" value="5" href="#">5 (strongly agree)</a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div>
                        <h4><strong>Question9</strong></h4>
                        <h5>I can tell when someone is upset</h5>
                        <div class="d-flex">
                            <div class="dropdown mr-1">
                                <button type="button" class="btn btn-light dropdown-toggle" id="dropdownMenu"
                                    data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"
                                    data="10,20">
                                    Select and Option
                                </button>
                                <div class="answerGiven" id="question9" aria-labelledby="dropdownMenu" >
                                        <a class="dropdown-item" value="1" href="#">1 (strongly disagree)</a>
                                        <a class="dropdown-item" value="2" href="#">2</a>
                                        <a class="dropdown-item" value="3" href="#">3</a>
                                        <a class="dropdown-item" value="4" href="#">4</a>
                                        <a class="dropdown-item" value="5" href="#">5 (strongly agree)</a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div>
                        <h4><strong>Question 10</strong></h4>
                        <h5>You can always find ways to improve yourself</h5>
                        <div class="d-flex">
                            <div class="dropdown mr-1">
                                <button type="button" class="btn btn-light dropdown-toggle"
                                    id="dropdownMenu" data-toggle="dropdown"
                                    aria-haspopup="true" aria-expanded="false" data="10,20">
                                    Select an Option
                                </button>
                                <div class="answerGiven" id="question10" aria-labelledby="dropdownMenu">
                                    <a class="dropdown-item" value="1" href="#">1 (strongly disagree)</a>
                                    <a class="dropdown-item" value="2" href="#">2</a>
                                    <a class="dropdown-item" vlaue="3" href="#">3</a>
                                    <a class="dropdown-item" value="4" href="#">4</a>
                                    <a class="dropdown-item" value="5" href="#">5 (strongly agree)</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <a href="">
                        <button type="submit" class="btn btn-primary btn-lg btn btn-block" value="submit"> <span class="fa fa-check"></span> Submit</button>
                    </a>
                </div>
            </div>
        </div>
    </div>

    <div id="links">
        API Friends list | Github Repo
    </div>
    <script type="text/javascript">

        $("#submit").on("click", function (event) {
            event.preventDefault();

            function filledForm() {
                var filledIn = true;
                $(".control-form").each(function () {
                    if ($(this).val() === "") {
                        filledIn = false;
                    }
                });

                $(".answersGiven").each(function () {

                    if ($(this).val() === "") {
                        filledIn = false;
                    }
                });
                return filledIn;
            }

            if (filledForm()) {
                var userData = {
                    name: $("#name").val(),
                    image: $("#imageLink").val(),
                    scores: [
                        $("#question1").val(),
                        $("#question2").val(),
                        $("#question3").val(),
                        $("#question4").val(),
                        $("#question5").val(),
                        $("#question6").val(),
                        $("#question7").val(),
                        $("#question8").val(),
                        $("#question9").val(),
                        $("#question10").val()
                    ]
                };

                $.post("/api/public/friends", userData, function (data) {

                    $("#friendName").text(data.name);
                    $("#friendImg").attr("src", data.imageLink);

                    $("#results-modal").modal("toggle");

                });
            } else {
                alert("Looks like you didn't fill it out completly, please fill in all fields.");
            }
        });
    </script>
</body>

</html>